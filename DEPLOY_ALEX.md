# Инструкция по размещению фронтенда в поддиректории /alex

## Проблема
Приложение собирается нормально, но при открытии `dev-teacherplanner.ru/alex` показывается пустая страница без ошибок.

## Причина
Проблема в конфигурации nginx. Для работы SPA приложения в поддиректории нужно правильно настроить nginx.

## Решение

### 1. Проверьте конфигурацию Vite
В `vite.config.js` уже установлено:
```javascript
base: '/alex/',
```

### 2. Настройте nginx

Добавьте в конфигурацию вашего сайта `dev-teacherplanner.ru` следующий блок:

```nginx
# Фронтенд в поддиректории /alex
location /alex {
    alias /var/www/dev-tp-alex;
    
    # Критически важно: для SPA роутинга все запросы должны возвращать index.html
    try_files $uri $uri/ /alex/index.html;
    
    # Устанавливаем правильный Content-Type
    index index.html;
}

# Обработка статических файлов для /alex
location /alex/static/ {
    alias /var/www/dev-tp-alex/static/;
    expires 1y;
    add_header Cache-Control "public, immutable";
}
```

### 3. Важные моменты

1. **Проверьте путь к файлам**: Убедитесь, что файлы действительно находятся в `/var/www/dev-tp-alex/`
2. **Права доступа**: Убедитесь, что nginx имеет права на чтение файлов:
   ```bash
   sudo chown -R www-data:www-data /var/www/dev-tp-alex
   sudo chmod -R 755 /var/www/dev-tp-alex
   ```
3. **Проверьте конфигурацию nginx**:
   ```bash
   sudo nginx -t
   ```
4. **Перезагрузите nginx**:
   ```bash
   sudo systemctl reload nginx
   ```

### 4. Проверка в браузере

После настройки откройте консоль разработчика (F12) и проверьте:
- Загружаются ли файлы CSS и JS (вкладка Network)
- Есть ли ошибки в консоли (вкладка Console)
- Правильно ли загружается `index.html` по пути `/alex/`

### 5. Типичные проблемы

**Проблема**: Страница пустая, в консоли ошибки 404 для JS/CSS файлов
**Решение**: Проверьте, что `try_files` правильно настроен и статические файлы обслуживаются

**Проблема**: Страница загружается, но роутинг не работает
**Решение**: Убедитесь, что `try_files` включает `/alex/index.html` в конце

**Проблема**: Ошибка 403 Forbidden
**Решение**: Проверьте права доступа к файлам и директориям

## Пример полной конфигурации

См. файл `nginx-alex.conf.example` для полного примера конфигурации.

